"0","prev_day <- c(NA, sp500$close[1: (nrow(sp500) - 1)])"
"0",""
"0","sp500$close_previous <- prev_day"
"0","sp500 <- na.omit(sp500)"
"0",""
"0","sp500$change <- (sp500$close - sp500$close_previous) / sp500$close_previous"
"0","sp500$intraday_change <- (sp500$high - sp500$low) / sp500$high"
"0",""
"0","sp500$ma5 <- moving_average(5, sp500$close)"
"0","sp500$ma8 <- moving_average(8, sp500$close)"
"0","sp500$ma13 <- moving_average(13, sp500$close)"
"0",""
"0","sp500 <- cbind(sp500, macd(12, 26, 9, sp500$close))"
"0",""
"0",""
"0","sp500$rsi10 <- rsi(10, sp500$change)"
"0",""
"0","# try adding derivatives"
"0","# first derivs"
"0","sp500$change_prime <- derivative(sp500$change)"
"0","sp500$intraday_change_prime <- derivative(sp500$intraday_change)"
"0","sp500$ma5_prime <- derivative(sp500$ma5)"
"0","sp500$ma8_prime <- derivative(sp500$ma8)"
"0","sp500$ma13_prime <- derivative(sp500$ma13)"
"0","sp500$rsi10_prime <- derivative(sp500$rsi10)"
"0","sp500$macd_prime <- derivative(sp500$macd)"
"0","sp500$macd_signal_prime <- derivative(sp500$macd_signal)"
"0",""
"0","# second derivs"
"0","sp500$change_prime2 <- derivative(sp500$change_prime)"
"0","sp500$intraday_change_prime2 <- derivative(sp500$intraday_change_prime)"
"0","sp500$ma5_prime2 <- derivative(sp500$ma5_prime)"
"0","sp500$ma8_prime2 <- derivative(sp500$ma8_prime)"
"0","sp500$ma13_prime2 <- derivative(sp500$ma13_prime)"
"0","sp500$rsi10_prime2 <- derivative(sp500$rsi10_prime)"
"0","sp500$macd_prime2 <- derivative(sp500$macd_prime)"
"0","sp500$macd_signal_prime2 <- derivative(sp500$macd_signal_prime)"
"0",""
"0",""
"0","# logical comparisons"
"0","sp500$macd_greater <- as.numeric(sp500$macd > sp500$macd_signal)"
"0","sp500$ma5g8 <- as.numeric(sp500$ma5 > sp500$ma8)"
"0","sp500$ma5g13 <- as.numeric(sp500$ma5 > sp500$ma13)"
"0","sp500$ma8g13 <- as.numeric(sp500$ma8 > sp500$ma13)"
"0","sp500$rsi10_over <- as.numeric(sp500$rsi10 > 70)"
"0","sp500$rsi10_under <- as.numeric(sp500$rsi10 < 30)"
"0",""
"0",""
"0","sp500 <- na.omit(sp500)"
